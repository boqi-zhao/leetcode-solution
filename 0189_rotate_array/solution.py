"""
LeetCode 189. 轮转数组 (Rotate Array)

题目描述：
给定一个整数数组 nums，将数组中的元素向右轮转 k 个位置，其中 k 是非负数。

示例 1：
输入：nums = [1,2,3,4,5,6,7], k = 3
输出：[5,6,7,1,2,3,4]
解释：
向右轮转 1 步: [7,1,2,3,4,5,6]
向右轮转 2 步: [6,7,1,2,3,4,5]
向右轮转 3 步: [5,6,7,1,2,3,4]

示例 2：
输入：nums = [-1,-100,3,99], k = 2
输出：[3,99,-1,-100]
解释：
向右轮转 1 步: [99,-1,-100,3]
向右轮转 2 步: [3,99,-1,-100]

提示：
- 1 <= nums.length <= 10^5
- -2^31 <= nums[i] <= 2^31 - 1
- 0 <= k <= 10^5

进阶：
- 尽可能想出更多的解决方案，至少有三种不同的方法可以解决这个问题。
- 使用空间复杂度为 O(1) 的原地算法解决这个问题。
"""


class Solution(object):
    def rotate(self, nums, k):
        """
        :type nums: List[int]
        :type k: int
        :rtype: None
        """
        # 处理边界条件
        if not nums or k == 0:
            return
        
        n = len(nums)
        k = k % n  # 处理 k 大于数组长度的情况
        
        # 三次反转法：
        # 核心思想：向右轮转 k 个位置，意味着：
        #   - 前 n-k 个元素会移动到后面
        #   - 后 k 个元素会移动到前面
        #   - n-k 就是这两个部分的分界点！
        #
        # 示例：nums = [1,2,3,4,5,6,7], k = 3
        #   原数组: [1,2,3,4 | 5,6,7]  (分界点在索引 n-k=4)
        #   结果:   [5,6,7 | 1,2,3,4]  (后k个移到前面，前n-k个移到后面)
        #
        # 步骤：
        # 1. 反转前 n-k 个元素 [1,2,3,4] -> [4,3,2,1]
        # 2. 反转后 k 个元素   [5,6,7] -> [7,6,5]
        # 3. 反转整个数组     [4,3,2,1,7,6,5] -> [5,6,7,1,2,3,4]
        
        # 反转前 n-k 个元素 [1,2,3,4] -> [4,3,2,1]
        nums[:n-k] = nums[:n-k][::-1]
        
        # 反转后 k 个元素 [5,6,7] -> [7,6,5]
        nums[n-k:] = nums[n-k:][::-1]
        
        # 反转整个数组 [4,3,2,1,7,6,5] -> [5,6,7,1,2,3,4]
        nums[:] = nums[::-1]

